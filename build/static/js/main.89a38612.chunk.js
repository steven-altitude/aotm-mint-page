(this["webpackJsonpcandy-machine-mint"]=this["webpackJsonpcandy-machine-mint"]||[]).push([[0],{115:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return g})),n.d(t,"d",(function(){return x}));var r=n(12),a=n(4),i=n(1),c=n.n(i),o=n(21),s=n(30),u=n(7),l=n(192),d=n(26),b=new o.e.PublicKey("cndy3Z4yapfJBmL3ShUp5exZKqR3z33thTzeNMm2gRZ"),p=new o.e.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),h=function(){var e=Object(a.a)(c.a.mark((function e(t,n,r){var i,o,s,u,l=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l.length>3&&void 0!==l[3]?l[3]:"recent",i=l.length>4&&void 0!==l[4]&&l[4],o=!1,s={slot:0,confirmations:0,err:null},u=0,e.next=7,new Promise(function(){var e=Object(a.a)(c.a.mark((function e(u,l){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout((function(){o||(o=!0,console.log("Rejecting for timeout..."),l({timeout:!0}))}),n);case 1:if(o||!i){e.next=7;break}return Object(a.a)(c.a.mark((function e(){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.getSignatureStatuses([t]);case 3:n=e.sent,s=n&&n.value[0],o||(s?s.err?(console.log("REST error for",t,s),o=!0,l(s.err)):s.confirmations?(console.log("REST confirmation for",t,s),o=!0,u(s)):console.log("REST no confirmations for",t,s):console.log("REST null result for",t,s)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),o||console.log("REST connection error: txid",t,e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))(),e.next=5,y(2e3);case 5:e.next=1;break;case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 7:return s=e.sent,r._signatureSubscriptions[u]&&r.removeSignatureListener(u),o=!0,console.log("Returning status",s),e.abrupt("return",s);case 12:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),f=function(t,n,r,a){var i=[{pubkey:n,isSigner:!0,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:o.e.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:s.b,isSigner:!1,isWritable:!1},{pubkey:o.e.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return new o.e.TransactionInstruction({keys:i,programId:d.b,data:e.from([])})},g=function(){var e=Object(a.a)(c.a.mark((function e(t,n,r){var a,i,s,u,l,d,p;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new o.c(r,t,{preflightCommitment:"recent"}),e.next=3,o.b.fetchIdl(b,a);case 3:return i=e.sent,s=new o.b(i,b,a),e.next=7,s.account.candyMachine.fetch(n);case 7:return u=e.sent,l=u.data.itemsAvailable.toNumber(),d=u.itemsRedeemed.toNumber(),p=l-d,e.abrupt("return",{id:n,program:s,state:{itemsAvailable:l,itemsRedeemed:d,itemsRemaining:p,isSoldOut:0===p,isActive:u.data.goLiveDate.toNumber()<(new Date).getTime()/1e3&&(!u.endSettings||(u.endSettings.endSettingType.date?u.endSettings.number.toNumber()>(new Date).getTime()/1e3:d<u.endSettings.number.toNumber())),goLiveDate:u.data.goLiveDate,treasury:u.wallet,tokenMint:u.tokenMint,gatekeeper:u.data.gatekeeper,endSettings:u.data.endSettings,whitelistMintSettings:u.data.whitelistMintSettings,hiddenSettings:u.data.hiddenSettings,price:u.data.price}});case 12:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),v=function(){var t=Object(a.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.e.PublicKey.findProgramAddress([e.from("metadata"),p.toBuffer(),n.toBuffer(),e.from("edition")],p);case 2:return t.abrupt("return",t.sent[0]);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),m=function(){var t=Object(a.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.e.PublicKey.findProgramAddress([e.from("metadata"),p.toBuffer(),n.toBuffer()],p);case 2:return t.abrupt("return",t.sent[0]);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),j=function(){var t=Object(a.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.e.PublicKey.findProgramAddress([e.from("candy_machine"),n.toBuffer()],b);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),x=function(){var e=Object(a.a)(c.a.mark((function e(t,n){var a,i,b,h,g,x,y,k,O,w,S,A,P,T,R,E,M,N;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.e.Keypair.generate(),e.next=3,Object(d.e)(a.publicKey,n);case 3:if(i=e.sent[0],!t.state.tokenMint){e.next=10;break}return e.next=7,Object(d.e)(t.state.tokenMint,n);case 7:e.t0=e.sent[0],e.next=11;break;case 10:e.t0=n;case 11:return b=e.t0,h=t.id,g=[],x=[a],y=[],e.t1=o.e.SystemProgram,e.t2=n,e.t3=a.publicKey,e.t4=s.a.span,e.next=22,t.program.provider.connection.getMinimumBalanceForRentExemption(s.a.span);case 22:if(e.t5=e.sent,e.t6=s.b,e.t7={fromPubkey:e.t2,newAccountPubkey:e.t3,space:e.t4,lamports:e.t5,programId:e.t6},e.t8=e.t1.createAccount.call(e.t1,e.t7),e.t9=s.c.createInitMintInstruction(s.b,a.publicKey,0,n,n),e.t10=f(i,n,n,a.publicKey),e.t11=s.c.createMintToInstruction(s.b,a.publicKey,i,n,[],1),k=[e.t8,e.t9,e.t10,e.t11],!t.state.gatekeeper){e.next=45;break}return e.t12=g,e.next=34,Object(d.h)(n,t.state.gatekeeper.gatekeeperNetwork);case 34:if(e.t13=e.sent[0],e.t14={pubkey:e.t13,isWritable:!0,isSigner:!1},e.t12.push.call(e.t12,e.t14),!t.state.gatekeeper.expireOnUse){e.next=45;break}return g.push({pubkey:d.a,isWritable:!1,isSigner:!1}),e.t15=g,e.next=42,Object(d.g)(t.state.gatekeeper.gatekeeperNetwork);case 42:e.t16=e.sent[0],e.t17={pubkey:e.t16,isWritable:!1,isSigner:!1},e.t15.push.call(e.t15,e.t17);case 45:if(!t.state.whitelistMintSettings){e.next=60;break}return O=new o.e.PublicKey(t.state.whitelistMintSettings.mint),e.next=49,Object(d.e)(O,n);case 49:if(w=e.sent[0],g.push({pubkey:w,isWritable:!0,isSigner:!1}),!t.state.whitelistMintSettings.mode.burnEveryTime){e.next=60;break}return S=o.e.Keypair.generate(),g.push({pubkey:O,isWritable:!0,isSigner:!1}),g.push({pubkey:S.publicKey,isWritable:!1,isSigner:!0}),x.push(S),e.next=58,t.program.provider.connection.getAccountInfo(w);case 58:e.sent&&(k.push(s.c.createApproveInstruction(s.b,w,S.publicKey,n,[],1)),y.push(s.c.createRevokeInstruction(s.b,w,n,[])));case 60:return t.state.tokenMint&&(A=o.e.Keypair.generate(),x.push(A),g.push({pubkey:b,isWritable:!0,isSigner:!1}),g.push({pubkey:A.publicKey,isWritable:!1,isSigner:!0}),k.push(s.c.createApproveInstruction(s.b,b,A.publicKey,n,[],t.state.price.toNumber())),y.push(s.c.createRevokeInstruction(s.b,b,n,[]))),e.next=63,m(a.publicKey);case 63:return P=e.sent,e.next=66,v(a.publicKey);case 66:return T=e.sent,e.next=69,j(h);case 69:return R=e.sent,E=Object(r.a)(R,2),M=E[0],N=E[1],e.t18=k,e.next=76,t.program.instruction.mintNft(N,{accounts:{candyMachine:h,candyMachineCreator:M,payer:n,wallet:t.state.treasury,mint:a.publicKey,metadata:P,masterEdition:T,mintAuthority:n,updateAuthority:n,tokenMetadataProgram:p,tokenProgram:s.b,systemProgram:u.SystemProgram.programId,rent:o.e.SYSVAR_RENT_PUBKEY,clock:o.e.SYSVAR_CLOCK_PUBKEY,recentBlockhashes:o.e.SYSVAR_RECENT_BLOCKHASHES_PUBKEY,instructionSysvarAccount:o.e.SYSVAR_INSTRUCTIONS_PUBKEY},remainingAccounts:g.length>0?g:void 0});case 76:return e.t19=e.sent,e.t18.push.call(e.t18,e.t19),e.prev=78,e.next=81,Object(l.a)(t.program.provider.connection,t.program.provider.wallet,[k,y],[x,[]]);case 81:return e.abrupt("return",e.sent.txs.map((function(e){return e.txid})));case 84:e.prev=84,e.t20=e.catch(78),console.log(e.t20);case 87:return e.abrupt("return",[]);case 88:case"end":return e.stop()}}),e,null,[[78,84]])})));return function(t,n){return e.apply(this,arguments)}}(),y=function(e){return new Promise((function(t){return setTimeout(t,e)}))}}).call(this,n(16).Buffer)},192:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r,a=n(20),i=n(4),c=n(1),o=n.n(c),s=n(7),u=n(101);!function(e){e[e.Sequential=0]="Sequential",e[e.Parallel=1]="Parallel",e[e.StopOnFailure=2]="StopOnFailure"}(r||(r={}));var l=function(){var e=Object(i.a)(o.a.mark((function e(t,n,i,c){var l,d,b,h,f,g,v,m,j,x,y,k,O,w,S=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=S.length>4&&void 0!==S[4]?S[4]:r.Parallel,d=S.length>5&&void 0!==S[5]?S[5]:"singleGossip",b=S.length>6&&void 0!==S[6]?S[6]:function(e,t){},h=S.length>7&&void 0!==S[7]?S[7]:function(e,t){return!1},f=S.length>8?S[8]:void 0,n.publicKey){e.next=7;break}throw new u.e;case 7:if(g=[],f){e.next=12;break}return e.next=11,t.getRecentBlockhash(d);case 11:f=e.sent;case 12:v=function(e){var t=i[e],r=c[e];if(0===t.length)return"continue";var o=new s.Transaction;t.forEach((function(e){return o.add(e)})),o.recentBlockhash=f.blockhash,o.setSigners.apply(o,[n.publicKey].concat(Object(a.a)(r.map((function(e){return e.publicKey}))))),r.length>0&&o.partialSign.apply(o,Object(a.a)(r)),g.push(o)},m=0;case 14:if(!(m<i.length)){e.next=21;break}if("continue"!==v(m)){e.next=18;break}return e.abrupt("continue",18);case 18:m++,e.next=14;break;case 21:return e.next=23,n.signAllTransactions(g);case 23:j=e.sent,x=[],y={breakEarly:!1,i:0},console.log("Signed txns length",j.length,"vs handed in length",i.length),k=o.a.mark((function e(n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=p({connection:t,signedTransaction:j[n]})).then((function(e){var t=e.txid;e.slot;b(t,n)})).catch((function(e){h(j[n],n),l===r.StopOnFailure&&(y.breakEarly=!0,y.i=n)})),l===r.Parallel){e.next=21;break}return e.prev=3,e.next=6,a;case 6:e.next=19;break;case 8:if(e.prev=8,e.t0=e.catch(3),console.log("Caught failure",e.t0),!y.breakEarly){e.next=19;break}return console.log("Died on ",y.i),e.t1=y.i,e.next=16,Promise.all(x);case 16:return e.t2=e.sent,e.t3={number:e.t1,txs:e.t2},e.abrupt("return",{v:e.t3});case 19:e.next=22;break;case 21:x.push(a);case 22:case"end":return e.stop()}}),e,null,[[3,8]])})),O=0;case 29:if(!(O<j.length)){e.next=37;break}return e.delegateYield(k(O),"t0",31);case 31:if("object"!==typeof(w=e.t0)){e.next=34;break}return e.abrupt("return",w.v);case 34:O++,e.next=29;break;case 37:if(l===r.Parallel){e.next=40;break}return e.next=40,Promise.all(x);case 40:return e.t1=j.length,e.next=43,Promise.all(x);case 43:return e.t2=e.sent,e.abrupt("return",{number:e.t1,txs:e.t2});case 45:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),d=function(){return(new Date).getTime()/1e3},b=15e3;function p(e){return h.apply(this,arguments)}function h(){return(h=Object(i.a)(o.a.mark((function e(t){var n,r,a,c,s,u,l,p,h,g,m,x,y;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.signedTransaction,r=t.connection,a=t.timeout,c=void 0===a?b:a,s=n.serialize(),u=d(),l=0,e.next=6,r.sendRawTransaction(s,{skipPreflight:!0});case 6:return p=e.sent,console.log("Started awaiting confirmation for",p),h=!1,Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h||!(d()-u<c)){e.next=6;break}return r.sendRawTransaction(s,{skipPreflight:!0}),e.next=4,j(500);case 4:e.next=0;break;case 6:case"end":return e.stop()}}),e)})))(),e.prev=10,e.next=13,v(p,c,r,"recent",!0);case 13:if(g=e.sent){e.next=16;break}throw new Error("Timed out awaiting confirmation on transaction");case 16:if(!g.err){e.next=19;break}throw console.error(g.err),new Error("Transaction failed: Custom instruction error");case 19:l=(null===g||void 0===g?void 0:g.slot)||0,e.next=47;break;case 22:if(e.prev=22,e.t0=e.catch(10),console.error("Timeout Error caught",e.t0),!e.t0.timeout){e.next=27;break}throw new Error("Timed out awaiting confirmation on transaction");case 27:return m=null,e.prev=28,e.next=31,f(r,n,"single");case 31:m=e.sent.value,e.next=36;break;case 34:e.prev=34,e.t1=e.catch(28);case 36:if(!m||!m.err){e.next=47;break}if(!m.logs){e.next=46;break}x=m.logs.length-1;case 39:if(!(x>=0)){e.next=46;break}if(!(y=m.logs[x]).startsWith("Program log: ")){e.next=43;break}throw new Error("Transaction failed: "+y.slice("Program log: ".length));case 43:--x,e.next=39;break;case 46:throw new Error(JSON.stringify(m.err));case 47:return e.prev=47,h=!0,e.finish(47);case 50:return console.log("Latency",p,d()-u),e.abrupt("return",{txid:p,slot:l});case 52:case"end":return e.stop()}}),e,null,[[10,22,47,50],[28,34]])})))).apply(this,arguments)}function f(e,t,n){return g.apply(this,arguments)}function g(){return(g=Object(i.a)(o.a.mark((function e(t,n,r){var a,i,c,s,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._recentBlockhash(t._disableBlockhashCaching);case 2:return n.recentBlockhash=e.sent,a=n.serializeMessage(),i=n._serialize(a),c=i.toString("base64"),s=[c,{encoding:"base64",commitment:r}],e.next=10,t._rpcRequest("simulateTransaction",s);case 10:if(!(u=e.sent).error){e.next=13;break}throw new Error("failed to simulate transaction: "+u.error.message);case 13:return e.abrupt("return",u.result);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e,t,n){return m.apply(this,arguments)}function m(){return m=Object(i.a)(o.a.mark((function e(t,n,r){var a,c,s,u,l,d=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=d.length>3&&void 0!==d[3]?d[3]:"recent",c=d.length>4&&void 0!==d[4]&&d[4],s=!1,u={slot:0,confirmations:0,err:null},l=0,e.next=7,new Promise(function(){var e=Object(i.a)(o.a.mark((function e(d,b){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout((function(){s||(s=!0,console.log("Rejecting for timeout..."),b({timeout:!0}))}),n);try{l=r.onSignature(t,(function(e,t){s=!0,u={err:e.err,slot:t.slot,confirmations:0},e.err?(console.log("Rejected via websocket",e.err),b(u)):(console.log("Resolved via websocket",e),d(u))}),a)}catch(p){s=!0,console.error("WS error in setup",t,p)}case 2:if(s||!c){e.next=8;break}return Object(i.a)(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.getSignatureStatuses([t]);case 3:n=e.sent,u=n&&n.value[0],s||(u?u.err?(console.log("REST error for",t,u),s=!0,b(u.err)):u.confirmations?(console.log("REST confirmation for",t,u),s=!0,d(u)):console.log("REST no confirmations for",t,u):console.log("REST null result for",t,u)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),s||console.log("REST connection error: txid",t,e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))(),e.next=6,j(2e3);case 6:e.next=2;break;case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 7:return u=e.sent,r._signatureSubscriptions[l]&&r.removeSignatureListener(l),s=!0,console.log("Returning status",u),e.abrupt("return",u);case 12:case"end":return e.stop()}}),e)}))),m.apply(this,arguments)}function j(e){return new Promise((function(t){return setTimeout(t,e)}))}},216:function(e,t,n){},217:function(e,t,n){},219:function(e,t){},222:function(e,t){},234:function(e,t){},245:function(e,t){},246:function(e,t){},26:function(e,t,n){"use strict";(function(e){n.d(t,"i",(function(){return l})),n.d(t,"d",(function(){return b})),n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return h})),n.d(t,"f",(function(){return f})),n.d(t,"e",(function(){return g})),n.d(t,"g",(function(){return v})),n.d(t,"h",(function(){return m})),n.d(t,"c",(function(){return j}));var r=n(4),a=n(1),i=n.n(a),c=n(21),o=n(30),s=n(7),u=new c.e.PublicKey("faircnAB9k59Y4TXmLabBULeuTLgV7TkGMGNkjnA15j"),l=function(e){if(e)return new Date(1e3*e.toNumber())},d=new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}),b={format:function(e){return e?d.format(e):"--"},asNumber:function(e){if(e)return e.toNumber()/s.LAMPORTS_PER_SOL}},p=new c.e.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),h=new c.e.PublicKey("gatem74V238djXdzWnJf94Wo1DcnuGkfijbf3AuBhfs"),f=function(){var t=Object(r.a)(i.a.mark((function t(n,r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.e.PublicKey.findProgramAddress([e.from("fair_launch"),n.toBuffer(),r.toArrayLike(e,"le",8)],u);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),g=function(){var e=Object(r.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.e.PublicKey.findProgramAddress([n.toBuffer(),o.b.toBuffer(),t.toBuffer()],p);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),v=function(){var t=Object(r.a)(i.a.mark((function t(n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.e.PublicKey.findProgramAddress([n.toBuffer(),e.from("expire")],h);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),m=function(){var t=Object(r.a)(i.a.mark((function t(n,r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.e.PublicKey.findProgramAddress([n.toBuffer(),e.from("gateway"),e.from([0,0,0,0,0,0,0,0]),r.toBuffer()],h);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();function j(t,n,r,a){var i=[{pubkey:n,isSigner:!0,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:s.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:o.b,isSigner:!1,isWritable:!1},{pubkey:s.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return new s.TransactionInstruction({keys:i,programId:p,data:e.from([])})}}).call(this,n(16).Buffer)},269:function(e,t){},272:function(e,t){},278:function(e,t){},287:function(e,t,n){"use strict";n.r(t);var r,a,i=n(0),c=n.n(i),o=n(33),s=n.n(o),u=(n(216),n(217),n(23)),l=n(20),d=n(4),b=n(12),p=n(63),h=n(1),f=n.n(h),g=n(55),v=n(346),m=n(328),j=n(327),x=n(329),y=n(324),k=n(340),O=n(288),w=n(203),S=n(330),A=n(345),P=n(344),T=n(323),R=n(325),E=n(138),M=n.n(E),N=n(336),L=n(7),C=n(184),K=n(141),B=n(115),I=n(89),W=n(26),D=n(320),F=n(100),Y=n(5),U=Object(g.a)(D.a)(r||(r=Object(p.a)(["\n  width: 100%;\n  height: 60px;\n  margin-top: 10px;\n  margin-bottom: 5px;\n  background: #0055FF;\n  color: white;\n  font-size: 16px;\n  font-weight: bold;\n  &:hover {\n    background-color:  #4482FD;\n  }\n"]))),X=function(e){var t,n,r,a,c=e.onMint,o=e.candyMachine,s=e.fairLaunch,u=e.isMinting,l=e.fairLaunchBalance,p=Object(F.c)(),h=p.requestGatewayToken,g=p.gatewayStatus,v=Object(i.useState)(!1),m=Object(b.a)(v,2),x=m[0],y=m[1];return Object(i.useEffect)((function(){g===F.b.ACTIVE&&x&&(console.log("Minting"),c(),y(!1))}),[g,x,y,c]),Object(Y.jsx)(U,{disabled:(null===o||void 0===o?void 0:o.state.isSoldOut)||u||!(null!==o&&void 0!==o&&o.state.isActive)||(null===s||void 0===s||null===(t=s.ticket)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.state.punched)&&0===l,onClick:Object(d.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y(!0),null===o||void 0===o||!o.state.isActive||null===o||void 0===o||!o.state.gatekeeper){e.next=10;break}if(g!==F.b.ACTIVE){e.next=6;break}y(!0),e.next=8;break;case 6:return e.next=8,h();case 8:e.next=13;break;case 10:return e.next=12,c();case 12:y(!1);case 13:case"end":return e.stop()}}),e)}))),variant:"contained",children:null!==s&&void 0!==s&&null!==(r=s.ticket)&&void 0!==r&&null!==(a=r.data)&&void 0!==a&&a.state.punched&&0===l?"MINTED":null!==o&&void 0!==o&&o.state.isSoldOut?"SOLD OUT":u?Object(Y.jsx)(j.a,{}):"MINT"})},J=n(114),q=function(e){var t,n,r,a,c,o,s,u=e.fairLaunch,l=Object(b.a)(e.isMinting,2),p=l[0],h=l[1],g=e.anchorWallet,v=e.setAlertState,y=Object(i.useState)(!1),k=Object(b.a)(y,2),O=k[0],w=k[1],S=function(){var e=Object(d.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g){e.next=2;break}return e.abrupt("return");case 2:return console.log("refund"),e.prev=3,h(!0),e.next=7,Object(I.d)(g,u);case 7:h(!1),v({open:!0,message:"Congratulations! You have received a refund. This is an irreversible action.",severity:"success"}),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(3),console.log(e.t0),h(!1),v({open:!0,message:"Something went wrong.",severity:"error"});case 16:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}}();return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(m.a,{maxWidth:"xs",style:{position:"relative"},children:Object(Y.jsx)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"flex-end"},children:Object(Y.jsx)(x.a,{component:"button",variant:"body2",color:"textSecondary",align:"right",onClick:function(){w(!0)},children:"Anti-Rug Policy"})})}),Object(Y.jsx)(P.a,{open:O,onClose:function(){w(!1)},PaperProps:{style:{backgroundColor:"#222933",borderRadius:6}},children:Object(Y.jsxs)(R.a,{style:{padding:24},children:[!u.state.data.antiRugSetting&&Object(Y.jsx)("span",{children:"This Fair Launch has no anti-rug settings."}),u.state.data.antiRugSetting&&u.state.data.antiRugSetting.selfDestructDate&&Object(Y.jsxs)("div",{children:[Object(Y.jsx)("h3",{children:"Anti-Rug Policy"}),Object(Y.jsx)("p",{children:"This raffle is governed by a smart contract to prevent the artist from running away with your money."}),Object(Y.jsx)("p",{children:"How it works:"}),"This project will retain"," ",u.state.data.antiRugSetting.reserveBp/100,"% (\u25ce"," ",u.treasury*u.state.data.antiRugSetting.reserveBp/(1e4*L.LAMPORTS_PER_SOL),") of the pledged amount in a locked state until all but"," ",u.state.data.antiRugSetting.tokenRequirement.toNumber()," ","NFTs (out of up to"," ",u.state.data.numberOfTokens.toNumber(),") have been minted.",Object(Y.jsxs)("p",{children:["If more than"," ",u.state.data.antiRugSetting.tokenRequirement.toNumber()," ","NFTs remain as of"," ",null===(t=Object(W.i)(u.state.data.antiRugSetting.selfDestructDate))||void 0===t?void 0:t.toLocaleDateString()," ","at"," ",null===(n=Object(W.i)(u.state.data.antiRugSetting.selfDestructDate))||void 0===n?void 0:n.toLocaleTimeString(),", you will have the option to get a refund of"," ",u.state.data.antiRugSetting.reserveBp/100,"% of the cost of your token."]}),(null===(r=u.ticket)||void 0===r?void 0:r.data)&&!(null!==(a=u.ticket)&&void 0!==a&&a.data.state.withdrawn)&&Object(Y.jsx)(U,{onClick:S,variant:"contained",disabled:!u.ticket.data||!u.ticket.data.state.punched||Date.now()/1e3<u.state.data.antiRugSetting.selfDestructDate.toNumber(),children:p?Object(Y.jsx)(j.a,{}):Date.now()/1e3<u.state.data.antiRugSetting.selfDestructDate.toNumber()?Object(Y.jsxs)("span",{children:["Refund in...",Object(Y.jsx)(J.a,{date:Object(W.i)(u.state.data.antiRugSetting.selfDestructDate)})]}):"Refund"}),Object(Y.jsx)("div",{style:{textAlign:"center",marginTop:"-5px"},children:(null===(c=u.ticket)||void 0===c?void 0:c.data)&&!(null!==(o=u.ticket)&&void 0!==o&&null!==(s=o.data)&&void 0!==s&&s.state.punched)&&Object(Y.jsx)("small",{children:"You currently have a ticket but it has not been punched yet, so cannot be refunded."})})]})]})})]})},V=n(318),G=Object(V.a)((function(e){return Object(A.a)({root:{display:"flex",padding:e.spacing(0),"& > *":{margin:e.spacing(.5),marginRight:0,width:e.spacing(6),height:e.spacing(6),display:"flex",flexDirection:"column",alignContent:"center",alignItems:"center",justifyContent:"center",background:"#384457",color:"white",borderRadius:5,fontSize:10}},done:{display:"flex",margin:e.spacing(1),marginRight:0,padding:e.spacing(1),flexDirection:"column",alignContent:"center",alignItems:"center",justifyContent:"center",background:"#384457",color:"white",borderRadius:5,fontWeight:"bold",fontSize:18},item:{fontWeight:"bold",fontSize:18}})})),Q=function(e){var t=e.date,n=e.status,r=e.style,a=e.start,c=e.end,o=e.onComplete,s=G(),u=Object(i.useState)(!!(a&&c&&t)&&a.getTime()-Date.now()<0),l=Object(b.a)(u,2),d=l[0],p=(l[1],function(e){var t=e.days,a=e.hours,i=e.minutes,c=e.seconds;return a+=24*t,e.completed?n?Object(Y.jsx)("span",{className:s.done,children:n}):null:Object(Y.jsxs)("div",{className:s.root,style:r,children:[d&&Object(Y.jsx)(O.a,{elevation:0,children:Object(Y.jsx)("span",{className:s.item,children:"+"})}),Object(Y.jsxs)(O.a,{elevation:0,children:[Object(Y.jsx)("span",{className:s.item,children:a<10?"0".concat(a):a}),Object(Y.jsx)("span",{children:"hrs"})]}),Object(Y.jsxs)(O.a,{elevation:0,children:[Object(Y.jsx)("span",{className:s.item,children:i<10?"0".concat(i):i}),Object(Y.jsx)("span",{children:"mins"})]}),Object(Y.jsxs)(O.a,{elevation:0,children:[Object(Y.jsx)("span",{className:s.item,children:c<10?"0".concat(c):c}),Object(Y.jsx)("span",{children:"secs"})]})]})});return t&&a&&c&&d&&J.a,t?Object(Y.jsx)(J.a,{date:t,onComplete:o,renderer:p}):null};function z(e,t){var n,r,i,c,o=(new Date).getTime(),s=null===(n=Object(W.i)(null===e||void 0===e?void 0:e.state.data.phaseOneStart))||void 0===n?void 0:n.getTime(),u=null===(r=Object(W.i)(null===e||void 0===e?void 0:e.state.data.phaseOneEnd))||void 0===r?void 0:r.getTime(),l=null===(i=Object(W.i)(null===e||void 0===e?void 0:e.state.data.phaseTwoEnd))||void 0===i?void 0:i.getTime(),d=null===(c=Object(W.i)(null===t||void 0===t?void 0:t.state.goLiveDate))||void 0===c?void 0:c.getTime();return s&&o<s?a.AnticipationPhase:u&&o<=u?a.SetPrice:l&&o<=l?a.GracePeriod:(null===e||void 0===e||!e.state.phaseThreeStarted)&&l&&o>l?a.Lottery:(!e||null!==e&&void 0!==e&&e.state.phaseThreeStarted)&&d&&o>d?a.Phase4:null!==e&&void 0!==e&&e.state.phaseThreeStarted?t?a.WaitForCM:a.RaffleFinished:a.Unknown}!function(e){e[e.AnticipationPhase=0]="AnticipationPhase",e[e.SetPrice=1]="SetPrice",e[e.GracePeriod=2]="GracePeriod",e[e.Lottery=3]="Lottery",e[e.RaffleFinished=4]="RaffleFinished",e[e.WaitForCM=5]="WaitForCM",e[e.Phase4=6]="Phase4",e[e.Unknown=7]="Unknown"}(a||(a={}));var H,_,Z=function(e){var t=e.phaseName,n=e.desc,r=e.date,a=e.status;return Object(Y.jsxs)(S.a,{container:!0,justifyContent:"center",children:[Object(Y.jsxs)(S.a,{xs:12,justifyContent:"center",direction:"column",children:[Object(Y.jsx)(w.a,{align:"center",variant:"h6",style:{fontWeight:600},children:t}),Object(Y.jsx)(w.a,{align:"center",style:{whiteSpace:"pre"},variant:"body1",color:"textSecondary",children:n})]}),Object(Y.jsx)(S.a,{xs:6,container:!0,justifyContent:"flex-end",children:Object(Y.jsx)(Q,{date:Object(W.i)(r),style:{justifyContent:"flex-end"},status:a||"COMPLETE"})})]})},$=function(e){var t=e.phase,n=e.fairLaunch,r=e.candyMachine,i=(e.candyMachinePredatesFairLaunch,e.rpcUrl,Object(C.b)());return console.log("D",r),console.log("Wallet",i),Object(Y.jsxs)(Y.Fragment,{children:[t===a.AnticipationPhase&&Object(Y.jsx)(Z,{phaseName:"Phase 0",desc:"Anticipation Phase",date:null===n||void 0===n?void 0:n.state.data.phaseOneStart}),t===a.SetPrice&&Object(Y.jsx)(Z,{phaseName:"Phase 1",desc:"Set price phase",date:null===n||void 0===n?void 0:n.state.data.phaseOneEnd}),t===a.GracePeriod&&Object(Y.jsx)(Z,{phaseName:"Phase 2",desc:"Grace period",date:null===n||void 0===n?void 0:n.state.data.phaseTwoEnd}),t===a.Lottery&&Object(Y.jsx)(Z,{phaseName:"Phase 3",desc:"Raffle in progress",date:null===n||void 0===n?void 0:n.state.data.phaseTwoEnd.add(null===n||void 0===n?void 0:n.state.data.lotteryDuration)}),t===a.RaffleFinished&&Object(Y.jsx)(Z,{phaseName:"Phase 3",desc:"Raffle finished!",date:null===n||void 0===n?void 0:n.state.data.phaseTwoEnd}),t===a.WaitForCM&&Object(Y.jsx)(Z,{phaseName:"Phase 3",desc:"Minting starts in...",date:null===r||void 0===r?void 0:r.state.goLiveDate}),t===a.Unknown&&!r&&Object(Y.jsx)(Z,{phaseName:"AotM",desc:"Free Mint",date:void 0}),t===a.Phase4&&Object(Y.jsx)(Z,{phaseName:"AotM",desc:"Free Mint\nRedeemed "+(null===r||void 0===r?void 0:r.state.itemsRedeemed.toString())+"/"+(null===r||void 0===r?void 0:r.state.itemsAvailable),date:void 0})]})},ee=Object(g.a)(K.a)(H||(H=Object(p.a)(["\n  width: 100%;\n  height: 60px;\n  margin-top: 10px;\n  margin-bottom: 5px;\n  background: #0055FF;\n  color: white;\n  font-size: 16px;\n  font-weight: bold;\n  &:hover {\n    background-color: #4482FD;\n  }\n  \n"]))),te=g.a.div(_||(_=Object(p.a)([""]))),ne=function(e){return Object(A.a)({root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}})},re=Object(g.a)(v.a)({color:"#C0D5FE",height:8,"& > *":{height:4},"& .MuiSlider-track":{border:"none",height:4},"& .MuiSlider-thumb":{height:24,width:24,marginTop:-10,background:"linear-gradient(180deg, #604AE5 0%, #813EEE 100%)",border:"2px solid currentColor","&:focus, &:hover, &.Mui-active, &.Mui-focusVisible":{boxShadow:"inherit"},"&:before":{display:"none"}},"& .MuiSlider-valueLabel":{"& > *":{background:"linear-gradient(180deg, #604AE5 0%, #813EEE 100%)"},lineHeight:1.2,fontSize:12,padding:0,width:32,height:32,marginLeft:9}}),ae=function(e){var t,n,r;if(null===e||void 0===e||!e.lottery.data||null===e||void 0===e||!e.lottery.data.length||null===e||void 0===e||null===(t=e.ticket.data)||void 0===t||!t.seq||null===e||void 0===e||!e.state.phaseThreeStarted)return!1;var a=e.lottery.data[49+Math.floor((null===(n=e.ticket.data)||void 0===n?void 0:n.seq.toNumber())/8)],i=7-(null===(r=e.ticket.data)||void 0===r?void 0:r.seq.toNumber())%8,c=a&Math.pow(2,i);return c>0},ie=function(e){var t,n,r,c,o,s,p,h,g,v,A,E,K,D,J,V,G,Q,H,_,Z,ie,ce,oe,se,ue,le,de,be,pe,he,fe=Object(i.useState)(0),ge=Object(b.a)(fe,2),ve=ge[0],me=ge[1],je=Object(i.useState)(null),xe=Object(b.a)(je,2),ye=xe[0],ke=xe[1],Oe=e.rpcHost,we=Object(i.useState)(!1),Se=Object(b.a)(we,2),Ae=Se[0],Pe=Se[1],Te=Object(i.useState)(0),Re=Object(b.a)(Te,2),Ee=Re[0],Me=Re[1],Ne=Object(C.b)(),Le=Object(i.useMemo)((function(){if(Ne&&Ne.publicKey&&Ne.signAllTransactions&&Ne.signTransaction)return{publicKey:Ne.publicKey,signAllTransactions:Ne.signAllTransactions,signTransaction:Ne.signTransaction}}),[Ne]),Ce=Object(i.useState)({open:!1,message:"",severity:void 0}),Ke=Object(b.a)(Ce,2),Be=Ke[0],Ie=Ke[1],We=Object(i.useState)(),De=Object(b.a)(We,2),Fe=De[0],Ye=De[1],Ue=Object(i.useState)(),Xe=Object(b.a)(Ue,2),Je=Xe[0],qe=Xe[1],Ve=Object(i.useState)(!1),Ge=Object(b.a)(Ve,2),Qe=Ge[0],ze=Ge[1],He=Object(i.useState)(!1),_e=Object(b.a)(He,2),Ze=_e[0],$e=_e[1],et=function(){var t=Object(d.a)(f.a.mark((function t(){var n,r,a,i,c,o;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,Pe(!0),null===(n=document.getElementById("#identity"))||void 0===n||n.click(),!(Ne.connected&&null!==Je&&void 0!==Je&&Je.program&&Ne.publicKey)){t.next=16;break}if(null===Fe||void 0===Fe||null===(r=Fe.ticket.data)||void 0===r||!r.state.unpunched||!ae(Fe)){t.next=7;break}return t.next=7,ut();case 7:return t.next=9,Object(B.d)(Je,Ne.publicKey);case 9:if(i=t.sent[0],c={err:!0},!i){t.next=15;break}return t.next=14,Object(B.b)(i,e.txTimeout,e.connection,"singleGossip",!0);case 14:c=t.sent;case 15:null!==(a=c)&&void 0!==a&&a.err?Ie({open:!0,message:"Mint failed! Please try again!",severity:"error"}):Ie({open:!0,message:"Congratulations! Mint succeeded!",severity:"success"});case 16:t.next=23;break;case 18:t.prev=18,t.t0=t.catch(0),o=t.t0.msg||"Minting failed! Please try again!",t.t0.msg?311===t.t0.code?(o="SOLD OUT!",window.location.reload()):312===t.t0.code&&(o="Minting period hasn't started yet."):t.t0.message?t.t0.message.indexOf("0x138")||(t.t0.message.indexOf("0x137")?o="SOLD OUT!":t.t0.message.indexOf("0x135")&&(o="Insufficient funds to mint. Please fund your wallet.")):o="Transaction Timeout! Please try again.",Ie({open:!0,message:o,severity:"error"});case 23:return t.prev=23,Pe(!1),t.finish(23);case 26:case"end":return t.stop()}}),t,null,[[0,18,23,26]])})));return function(){return t.apply(this,arguments)}}();Object(i.useEffect)((function(){Object(d.a)(f.a.mark((function t(){var n,r,i,c,o,s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Le){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,e.connection.getBalance(Le.publicKey);case 5:if(n=t.sent,ke(n),!e.fairLaunchId){t.next=31;break}return t.next=10,Object(I.a)(Le,e.fairLaunchId,e.connection);case 10:if(r=t.sent,Ye(r),t.prev=12,!r.state.tokenMint){t.next=22;break}return t.t0=e.connection,t.next=17,Object(W.e)(r.state.tokenMint,Le.publicKey);case 17:return t.t1=t.sent[0],t.next=20,t.t0.getTokenAccountBalance.call(t.t0,t.t1);case 20:(i=t.sent).value&&me(i.value.uiAmount||0);case 22:t.next=28;break;case 24:t.prev=24,t.t2=t.catch(12),console.log("Problem getting fair launch token balance"),console.log(t.t2);case 28:0===Ee&&(z(r,void 0)===a.SetPrice?(c=(r.state.data.priceRangeEnd.toNumber()-r.state.data.priceRangeStart.toNumber())/r.state.data.tickSize.toNumber(),o=Math.round(Math.random()*c),Me((r.state.data.priceRangeStart.toNumber()+o*r.state.data.tickSize.toNumber())/L.LAMPORTS_PER_SOL)):Me((r.state.currentMedian||r.state.data.priceRangeStart).toNumber()/L.LAMPORTS_PER_SOL)),t.next=32;break;case 31:console.log("No fair launch detected in configuration.");case 32:t.next=38;break;case 34:t.prev=34,t.t3=t.catch(2),console.log("Problem getting fair launch state"),console.log(t.t3);case 38:if(!e.candyMachineId){t.next=52;break}return t.prev=39,t.next=42,Object(B.c)(Le,e.candyMachineId,e.connection);case 42:s=t.sent,qe(s),t.next=50;break;case 46:t.prev=46,t.t4=t.catch(39),console.log("Problem getting candy machine state"),console.log(t.t4);case 50:t.next=53;break;case 52:console.log("No candy machine detected in configuration.");case 53:case"end":return t.stop()}}),t,null,[[2,34],[12,24],[39,46]])})))()}),[Le,e.candyMachineId,e.connection,e.fairLaunchId,Ee]);var tt=W.d.asNumber(null===Fe||void 0===Fe?void 0:Fe.state.data.priceRangeStart),nt=W.d.asNumber(null===Fe||void 0===Fe?void 0:Fe.state.data.priceRangeEnd),rt=W.d.asNumber(null===Fe||void 0===Fe?void 0:Fe.state.data.tickSize),at=W.d.asNumber(null===Fe||void 0===Fe?void 0:Fe.state.currentMedian),it=z(Fe,Je);console.log("Phase",it);var ct=[{value:tt||0,label:"".concat(tt," SOL")}].concat(Object(l.a)(it===a.SetPrice?[]:[{value:at||0,label:"".concat(at)}]),[{value:nt||0,label:"".concat(nt," SOL")}]).filter((function(e){return void 0!==e&&0!==e.value})),ot=function(){var e=Object(d.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Le){e.next=2;break}return e.abrupt("return");case 2:return console.log("deposit"),Pe(!0),e.prev=4,e.next=7,Object(I.c)(Ee,Le,Fe);case 7:Pe(!1),Ie({open:!0,message:"Congratulations! Bid ".concat(null!==Fe&&void 0!==Fe&&Fe.ticket.data?"updated":"inserted","!"),severity:"success"}),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(4),console.log(e.t0),Pe(!1),Ie({open:!0,message:"Something went wrong.",severity:"error"});case 16:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(){return e.apply(this,arguments)}}(),st=function(){var e=Object(d.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Le){e.next=2;break}return e.abrupt("return");case 2:return console.log("refund"),e.prev=3,Pe(!0),e.next=7,Object(I.c)(0,Le,Fe);case 7:Pe(!1),Ie({open:!0,message:"Congratulations! Funds withdrawn. This is an irreversible action.",severity:"success"}),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(3),console.log(e.t0),Pe(!1),Ie({open:!0,message:"Something went wrong.",severity:"error"});case 16:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}}(),ut=function(){var e=Object(d.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Le&&Fe&&Fe.ticket){e.next=2;break}return e.abrupt("return");case 2:return console.log("punch"),Pe(!0),e.prev=4,e.next=7,Object(I.b)(Le,Fe);case 7:Pe(!1),Ie({open:!0,message:"Congratulations! Ticket punched!",severity:"success"}),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(4),console.log(e.t0),Pe(!1),Ie({open:!0,message:"Something went wrong.",severity:"error"});case 16:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(){return e.apply(this,arguments)}}(),lt=(null===Je||void 0===Je?void 0:Je.state.goLiveDate)&&(null===Fe||void 0===Fe?void 0:Fe.state.data.phaseTwoEnd)&&(null===Je||void 0===Je?void 0:Je.state.goLiveDate.lt(null===Fe||void 0===Fe?void 0:Fe.state.data.phaseTwoEnd)),dt=!!(null!=ye&&null!==Fe&&void 0!==Fe&&Fe.state.data.priceRangeStart&&null!==Fe&&void 0!==Fe&&Fe.state.data.fee&&ye+((null===Fe||void 0===Fe||null===(t=Fe.ticket)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.amount.toNumber())||0)<Ee*L.LAMPORTS_PER_SOL+(null===Fe||void 0===Fe?void 0:Fe.state.data.fee.toNumber())+.01);return Object(Y.jsxs)(m.a,{style:{marginTop:400},children:[Fe&&Object(Y.jsx)(q,{fairLaunch:Fe,isMinting:[Ae,Pe],setAlertState:Ie}),Object(Y.jsx)(m.a,{maxWidth:"sm",style:{position:"relative"},children:Object(Y.jsx)(O.a,{style:{padding:24,backgroundColor:"#151A1F",borderRadius:6},children:Object(Y.jsxs)(S.a,{container:!0,justifyContent:"center",direction:"column",children:[Object(Y.jsx)($,{phase:it,fairLaunch:Fe,candyMachine:Je,rpcUrl:Oe,candyMachinePredatesFairLaunch:!!lt}),Fe&&Object(Y.jsx)(S.a,{container:!0,direction:"column",justifyContent:"center",alignItems:"center",style:{height:200,marginTop:20,marginBottom:20,background:"#384457",borderRadius:6},children:Fe.ticket.data?Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(w.a,{children:"Your bid"}),Object(Y.jsxs)(w.a,{variant:"h6",style:{fontWeight:900},children:[W.d.format(((null===Fe||void 0===Fe||null===(r=Fe.ticket.data)||void 0===r?void 0:r.amount.toNumber())||0)/L.LAMPORTS_PER_SOL)," ","SOL"]})]}):[a.AnticipationPhase,a.SetPrice].includes(it)?Object(Y.jsxs)(w.a,{children:["You haven't entered this raffle yet. ",Object(Y.jsx)("br",{}),(null===Fe||void 0===Fe||null===(c=Fe.state)||void 0===c||null===(o=c.data)||void 0===o?void 0:o.fee)&&Object(Y.jsx)("span",{children:Object(Y.jsxs)("b",{children:["All initial bids will incur a \u25ce"," ",(null===Fe||void 0===Fe||null===(s=Fe.state)||void 0===s||null===(p=s.data)||void 0===p?void 0:p.fee.toNumber())/L.LAMPORTS_PER_SOL," ","fee."]})})]}):Object(Y.jsx)(w.a,{children:"You didn't participate in this raffle."})}),Fe&&Object(Y.jsxs)(Y.Fragment,{children:[[a.SetPrice,a.GracePeriod,a.RaffleFinished,a.Lottery].includes(it)&&(null===Fe||void 0===Fe||null===(h=Fe.ticket)||void 0===h||null===(g=h.data)||void 0===g?void 0:g.state.withdrawn)&&Object(Y.jsx)("div",{style:{paddingTop:"15px"},children:Object(Y.jsx)(N.a,{severity:"error",children:"Your bid was withdrawn and cannot be adjusted or re-inserted."})}),[a.GracePeriod].includes(it)&&Fe.state.currentMedian&&(null===Fe||void 0===Fe||null===(v=Fe.ticket)||void 0===v||null===(A=v.data)||void 0===A?void 0:A.amount)&&!(null!==Fe&&void 0!==Fe&&null!==(E=Fe.ticket)&&void 0!==E&&null!==(K=E.data)&&void 0!==K&&K.state.withdrawn)&&Fe.state.currentMedian.gt(null===Fe||void 0===Fe||null===(D=Fe.ticket)||void 0===D||null===(J=D.data)||void 0===J?void 0:J.amount)&&Object(Y.jsx)("div",{style:{paddingTop:"15px"},children:Object(Y.jsx)(N.a,{severity:"warning",children:"Your bid is currently below the median and will not be eligible for the raffle."})}),[a.RaffleFinished,a.Lottery].includes(it)&&Fe.state.currentMedian&&(null===Fe||void 0===Fe||null===(V=Fe.ticket)||void 0===V||null===(G=V.data)||void 0===G?void 0:G.amount)&&!(null!==Fe&&void 0!==Fe&&null!==(Q=Fe.ticket)&&void 0!==Q&&null!==(H=Q.data)&&void 0!==H&&H.state.withdrawn)&&Fe.state.currentMedian.gt(null===Fe||void 0===Fe||null===(_=Fe.ticket)||void 0===_||null===(Z=_.data)||void 0===Z?void 0:Z.amount)&&Object(Y.jsx)("div",{style:{paddingTop:"15px"},children:Object(Y.jsxs)(N.a,{severity:"error",children:["Your bid was below the median and was not included in the raffle. You may click ",Object(Y.jsx)("em",{children:"Withdraw"})," when the raffle ends or you will be automatically issued one when the Fair Launch authority withdraws from the treasury."]})}),dt&&Object(Y.jsx)(N.a,{severity:"error",children:"You do not have enough SOL in your account to place this bid."})]}),[a.SetPrice,a.GracePeriod].includes(it)&&Object(Y.jsx)(Y.Fragment,{children:Object(Y.jsx)(S.a,{style:{marginTop:40,marginBottom:20},children:Ee>0?Object(Y.jsx)(re,{min:tt,marks:ct,max:nt,step:rt,value:Ee,onChange:function(e,t){return Me(t)},valueLabelDisplay:"auto",style:{width:"calc(100% - 40px)",marginLeft:20,height:30}}):Object(Y.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object(Y.jsx)(j.a,{})})})}),Ne.connected?Object(Y.jsxs)("div",{children:[[a.SetPrice,a.GracePeriod].includes(it)&&Object(Y.jsx)(Y.Fragment,{children:Object(Y.jsx)(U,{onClick:ot,variant:"contained",disabled:Ae||!(null!==Fe&&void 0!==Fe&&Fe.ticket.data)&&it===a.GracePeriod||dt,children:Ae?Object(Y.jsx)(j.a,{}):null!==Fe&&void 0!==Fe&&Fe.ticket.data?"Change bid":"Place bid"})}),[a.RaffleFinished].includes(it)&&Object(Y.jsxs)(Y.Fragment,{children:[ae(Fe)&&Object(Y.jsx)(U,{onClick:ut,variant:"contained",disabled:void 0!==(null===Fe||void 0===Fe||null===(ie=Fe.ticket.data)||void 0===ie?void 0:ie.state.punched),children:Ae?Object(Y.jsx)(j.a,{}):"Punch Ticket"}),!ae(Fe)&&Object(Y.jsx)(U,{onClick:st,variant:"contained",disabled:Ae||void 0===(null===Fe||void 0===Fe?void 0:Fe.ticket.data)||void 0!==(null===Fe||void 0===Fe||null===(ce=Fe.ticket.data)||void 0===ce?void 0:ce.state.withdrawn),children:Ae?Object(Y.jsx)(j.a,{}):"Withdraw"})]}),it===a.Phase4&&Object(Y.jsxs)(Y.Fragment,{children:[(!Fe||ae(Fe)||ve>0)&&Object(Y.jsx)(te,{children:null!==Je&&void 0!==Je&&Je.state.isActive&&null!==Je&&void 0!==Je&&Je.state.gatekeeper&&Ne.publicKey&&Ne.signTransaction?Object(Y.jsx)(F.a,{wallet:{publicKey:Ne.publicKey||new L.PublicKey(B.a),signTransaction:Ne.signTransaction},gatekeeperNetwork:null===Je||void 0===Je||null===(oe=Je.state)||void 0===oe||null===(se=oe.gatekeeper)||void 0===se?void 0:se.gatekeeperNetwork,clusterUrl:Oe,options:{autoShowModal:!1},children:Object(Y.jsx)(X,{candyMachine:Je,fairLaunch:Fe,isMinting:Ae,fairLaunchBalance:ve,onMint:et})}):Object(Y.jsx)(X,{candyMachine:Je,fairLaunch:Fe,isMinting:Ae,fairLaunchBalance:ve,onMint:et})}),!(!Fe||ae(Fe)||ve>0)&&Object(Y.jsx)(U,{onClick:st,variant:"contained",disabled:Ae||void 0===(null===Fe||void 0===Fe?void 0:Fe.ticket.data)||void 0!==(null===Fe||void 0===Fe||null===(ue=Fe.ticket.data)||void 0===ue?void 0:ue.state.withdrawn),children:Ae?Object(Y.jsx)(j.a,{}):"Withdraw"})]})]}):Object(Y.jsxs)(ee,{children:["Connect"," ",[a.SetPrice].includes(it)?"to bid":"your wallet"]}),Object(Y.jsxs)(S.a,{container:!0,justifyContent:"space-between",color:"textSecondary",children:[Fe&&Object(Y.jsx)(x.a,{component:"button",variant:"body2",color:"textSecondary",align:"left",onClick:function(){ze(!0)},children:"How this raffle works"}),(null===Fe||void 0===Fe?void 0:Fe.ticket.data)&&Object(Y.jsx)(x.a,{component:"button",variant:"body2",color:"textSecondary",align:"right",onClick:function(){!Fe||it===a.Lottery||ae(Fe)||ve>0?$e(!0):st()},children:"Withdraw funds"})]}),Object(Y.jsx)(P.a,{open:Ze,onClose:function(){return $e(!1)},PaperProps:{style:{backgroundColor:"#222933",borderRadius:6}},children:Object(Y.jsx)(R.a,{style:{padding:24},children:"During raffle phases, or if you are a winner, or if this website is not configured to be a fair launch but simply a candy machine, refunds are disallowed."})}),Object(Y.jsxs)(P.a,{open:Qe,onClose:function(){return ze(!1)},PaperProps:{style:{backgroundColor:"#222933",borderRadius:6}},children:[Object(Y.jsxs)(T.a,{disableTypography:!0,style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[Object(Y.jsx)(x.a,{component:"button",variant:"h6",color:"textSecondary",onClick:function(){ze(!0)},children:"How it works"}),Object(Y.jsx)(y.a,{"aria-label":"close",className:ne.closeButton,onClick:function(){return ze(!1)},children:Object(Y.jsx)(M.a,{})})]}),Object(Y.jsxs)(R.a,{children:[Object(Y.jsx)(w.a,{variant:"h6",children:"Phase 1 - Set the fair price:"}),Object(Y.jsxs)(w.a,{gutterBottom:!0,color:"textSecondary",children:['Enter a bid in the range provided by the artist. The median of all bids will be the "fair" price of the raffle ticket.'," ",(null===Fe||void 0===Fe||null===(le=Fe.state)||void 0===le||null===(de=le.data)||void 0===de?void 0:de.fee)&&Object(Y.jsx)("span",{children:Object(Y.jsxs)("b",{children:["All bids will incur a \u25ce"," ",(null===Fe||void 0===Fe||null===(be=Fe.state)||void 0===be||null===(pe=be.data)||void 0===pe?void 0:pe.fee.toNumber())/L.LAMPORTS_PER_SOL," ","fee."]})})]}),Object(Y.jsx)(w.a,{variant:"h6",children:"Phase 2 - Grace period:"}),Object(Y.jsx)(w.a,{gutterBottom:!0,color:"textSecondary",children:"If your bid was at or above the fair price, you automatically get a raffle ticket at that price. There's nothing else you need to do. Your excess SOL will be returned to you when the Fair Launch authority withdraws from the treasury. If your bid is below the median price, you can still opt in at the fair price during this phase."}),lt?Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(w.a,{variant:"h6",children:"Phase 3 - The Candy Machine:"}),Object(Y.jsx)(w.a,{gutterBottom:!0,color:"textSecondary",children:"Everyone who got a raffle ticket at the fair price is entered to win an NFT. If you win an NFT, congrats. If you don\u2019t, no worries, your SOL will go right back into your wallet."})]}):Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(w.a,{variant:"h6",children:"Phase 3 - The Lottery:"}),Object(Y.jsx)(w.a,{gutterBottom:!0,color:"textSecondary",children:"Everyone who got a raffle ticket at the fair price is entered to win a Fair Launch Token that entitles them to an NFT at a later date using a Candy Machine here. If you don\u2019t win, no worries, your SOL will go right back into your wallet."}),Object(Y.jsx)(w.a,{variant:"h6",children:"Phase 4 - The Candy Machine:"}),Object(Y.jsxs)(w.a,{gutterBottom:!0,color:"textSecondary",children:["On"," ",null!==Je&&void 0!==Je&&Je.state.goLiveDate?null===(he=Object(W.i)(null===Je||void 0===Je?void 0:Je.state.goLiveDate))||void 0===he?void 0:he.toLocaleString():" some later date",", you will be able to exchange your Fair Launch token for an NFT using the Candy Machine at this site by pressing the Mint Button."]})]})]})]})]})})}),Fe&&Object(Y.jsx)(m.a,{maxWidth:"xs",style:{position:"relative",marginTop:10},children:Object(Y.jsx)("div",{style:{margin:20},children:Object(Y.jsxs)(S.a,{container:!0,direction:"row",wrap:"nowrap",children:[Object(Y.jsxs)(S.a,{container:!0,md:4,direction:"column",children:[Object(Y.jsx)(w.a,{variant:"body2",color:"textSecondary",children:"Bids"}),Object(Y.jsx)(w.a,{variant:"h6",color:"textPrimary",style:{fontWeight:"bold"},children:(null===Fe||void 0===Fe?void 0:Fe.state.numberTicketsSold.toNumber())||0})]}),Object(Y.jsxs)(S.a,{container:!0,md:4,direction:"column",children:[Object(Y.jsx)(w.a,{variant:"body2",color:"textSecondary",children:"Median bid"}),Object(Y.jsxs)(w.a,{variant:"h6",color:"textPrimary",style:{fontWeight:"bold"},children:["\u25ce"," ",it===a.AnticipationPhase||it===a.SetPrice?"???":W.d.format(at)]})]}),Object(Y.jsxs)(S.a,{container:!0,md:4,direction:"column",children:[Object(Y.jsx)(w.a,{variant:"body2",color:"textSecondary",children:"Total raised"}),Object(Y.jsxs)(w.a,{variant:"h6",color:"textPrimary",style:{fontWeight:"bold"},children:["\u25ce"," ",W.d.format(((null===Fe||void 0===Fe?void 0:Fe.treasury)||0)/L.LAMPORTS_PER_SOL)]})]})]})})}),Object(Y.jsx)(k.a,{open:Be.open,autoHideDuration:6e3,onClose:function(){return Ie(Object(u.a)(Object(u.a)({},Be),{},{open:!1}))},children:Object(Y.jsx)(N.a,{onClose:function(){return Ie(Object(u.a)(Object(u.a)({},Be),{},{open:!1}))},severity:Be.severity,children:Be.message})})]})},ce=n(21),oe=n(341),se=n(342),ue=n(338),le=n(343),de=n(339),be=n(198),pe=n(335),he=n(196),fe=c.a.createContext(null),ge=function(e){var t=e.children,n=void 0===t?null:t,r=Object(i.useRef)(),a=Object(i.useRef)(),c=Object(i.useMemo)((function(){return function(){var e;a.current&&r.current&&(r.current.style.visibility="visible",null===(e=a.current({particleCount:400,spread:160,origin:{y:.3}}))||void 0===e||e.finally((function(){r.current&&(r.current.style.visibility="hidden")})))}}),[]);Object(i.useEffect)((function(){r.current&&!a.current&&(r.current.style.visibility="hidden",a.current=he.a.create(r.current,{resize:!0,useWorker:!0}))}),[]);return Object(Y.jsxs)(fe.Provider,{value:{dropConfetti:c},children:[Object(Y.jsx)("canvas",{ref:r,style:{width:"100vw",height:"100vh",position:"absolute",zIndex:1,top:0,left:0}}),n]})},ve=n(331),me=n(332),je=Object(V.a)((function(e){return{offset:e.mixins.toolbar,title:{flexGrow:1}}})),xe=function(){var e=je();return Object(Y.jsxs)("div",{children:[Object(Y.jsx)(ve.a,{style:{background:"#FFFFFF"},children:Object(Y.jsxs)(me.a,{children:[Object(Y.jsx)(y.a,{"aria-label":"menu",className:e.title,children:Object(Y.jsx)("img",{src:"data:image/png;base64,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",alt:"Logo"})}),Object(Y.jsx)(y.a,{"aria-label":"discord",children:Object(Y.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAXCAYAAAAcP/9qAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFKSURBVHgBxVXhWQMhDI2d4EaIE1g3wA10Am+D1gmqE3gbFCewG9QNdAO6wd0GNQhY5UsI5yf6vu/9gUceCQEA6tFVzGuaKiBxQ9wTR6JT9JZ4jPqBaEriM2bsmrgSFu5AzorTH4gPcVNFIITsjr9MoxnbBqaeDgrnj41ME+8l411j45HLGhubJq5zY/tHxvvc2FWUqbacmuaz3EslkIHTcVhB5+J80rmacvc1oi/gssJMYwoxt0k0FERLxtgy2XKQsv7QL4gXIKOrGJMeBtTGX0HO+JlZxOluM90Kyg3m46gdvYVwZmtF+wjhg9mA3tlVxi2IC/gnlIwnCO/3BPPxAuEvFmN74ytB1EXTS+IN8Yn4JgQ6QLhmd8TzaMx1+xQ135KRmke6pygEl365AZQ/uc820MM8IJxetzEa4pwA5gemCf5a+QqKGb4DZUZeXM7LWtIAAAAASUVORK5CYII=",alt:"Discord",onClick:function(){return window.open("https://discord.gg/PNw7MegU","_blank")}})}),Object(Y.jsx)(y.a,{"aria-label":"twitter",children:Object(Y.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEbSURBVHgB7ZbhjcIwDIXfnW4ARsht0BEyAhuQEdgANoAN6AaM0BHoBhmhbAA2DSpCIbIb/6Of9KQ2dWznKakCLCx8Oz+wY0UKJJfee1L7Ie4KYzakgXR7UyQ1qakdqZMkO6SJK8hYZwrnNGByp8gFU/eSCVHYQEs6p4bFCfk5FGIbYfGn9hDQZSbymM/EekXxACG+kIQdYRu3KS4oGvBQsFUklspByA6j5dG4gSx/mbF/KO0S0H/68JsZa2FPr4x/HBdL+z1m4DC6MVQWj5jJGjYbMWAm3qB4h0r2FcUjFGe/hMP4YzorG2hgCO8H6WbkOA8D+D7AK+8gXzWfdwcjjorCQ2rWFI/y6iPphEq7pZdSh+mKdn3RwkI1d4DhFsAGfpPZAAAAAElFTkSuQmCC",alt:"Twitter",onClick:function(){return window.open("https://twitter.com/metaverseangels","_blank")}})})]})}),Object(Y.jsx)("div",{className:e.offset})]})},ye=Object(be.a)({palette:{type:"dark"}}),ke=new ce.e.PublicKey("6cJNm6g1kzP6SAc8BPKN3AmhPZMjC6ntMSqDoA5oLeQQ"),Oe="https://psytrbhymqlkfrhudd.dev.genesysgo.net:8899/",we=new ce.e.Connection(Oe),Se=parseInt(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CANDY_MACHINE_ID:"6cJNm6g1kzP6SAc8BPKN3AmhPZMjC6ntMSqDoA5oLeQQ",REACT_APP_SOLANA_NETWORK:"devnet",REACT_APP_SOLANA_RPC_HOST:"https://psytrbhymqlkfrhudd.dev.genesysgo.net:8899/",REACT_APP_FAIR_LAUNCH_ID:""}).REACT_APP_CANDY_START_DATE,10),Ae=function(){var e=Object(i.useMemo)((function(){return Object(L.clusterApiUrl)("devnet")}),[]),t=Object(i.useMemo)((function(){return[Object(oe.a)(),Object(se.a)(),Object(ue.a)()]}),[]);return Object(Y.jsxs)(pe.a,{theme:ye,children:[Object(Y.jsx)(xe,{}),Object(Y.jsx)("div",{className:"app",children:Object(Y.jsx)("main",{children:Object(Y.jsx)(le.a,{endpoint:e,children:Object(Y.jsx)(de.a,{wallets:t,autoConnect:!0,children:Object(Y.jsx)(K.b,{children:Object(Y.jsx)(ge,{children:Object(Y.jsx)(ie,{candyMachineId:ke,fairLaunchId:undefined,connection:we,startDate:Se,txTimeout:3e4,rpcHost:Oe})})})})})})})]})},Pe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,347)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),i(e),c(e)}))};s.a.render(Object(Y.jsx)(c.a.StrictMode,{children:Object(Y.jsx)(Ae,{})}),document.getElementById("root")),Pe()},89:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return f})),n.d(t,"d",(function(){return j})),n.d(t,"c",(function(){return x}));var r,a=n(20),i=n(12),c=n(4),o=n(1),s=n.n(o),u=n(21),l=n(30),d=n(7),b=n(26),p=new u.e.PublicKey("faircnAB9k59Y4TXmLabBULeuTLgV7TkGMGNkjnA15j");!function(e){e.Brewing="Brewing",e.Finished="Finished",e.PastDue="Past Due"}(r||(r={}));var h=function(){var e=Object(c.a)(s.a.mark((function e(t,n,r){var a,c,o,l,d,b,h,f,m,j,x,y,k;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new u.c(r,t,{preflightCommitment:"recent"}),e.next=3,u.b.fetchIdl(p,a);case 3:return c=e.sent,o=new u.b(c,p,a),e.next=7,o.account.fairLaunch.fetch(n);case 7:return l=e.sent,e.next=10,g(l.tokenMint,t.publicKey);case 10:return d=e.sent,b=Object(i.a)(d,2),h=b[0],f=b[1],e.prev=14,e.next=17,o.account.fairLaunchTicket.fetch(h);case 17:m=e.sent,e.next=23;break;case 20:e.prev=20,e.t0=e.catch(14),console.log("No ticket");case 23:return e.next=25,o.provider.connection.getBalance(l.treasury);case 25:return j=e.sent,x=new Uint8Array([]),e.next=29,v(l.tokenMint);case 29:return y=e.sent[0],e.prev=30,e.next=33,o.provider.connection.getAccountInfo(y);case 33:k=e.sent,x=new Uint8Array((null===k||void 0===k?void 0:k.data)||[]),e.next=41;break;case 37:e.prev=37,e.t1=e.catch(30),console.log("Could not find fair launch lottery."),console.log(e.t1);case 41:return e.abrupt("return",{id:n,state:l,program:o,ticket:{pubkey:h,bump:f,data:m},lottery:{pubkey:y,data:x},treasury:j});case 42:case"end":return e.stop()}}),e,null,[[14,20],[30,37]])})));return function(t,n,r){return e.apply(this,arguments)}}(),f=function(){var e=Object(c.a)(s.a.mark((function e(t,n){var r,i,c,o,d,p,h,f,j,x;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(n.state.tokenMint,t.publicKey);case 2:return r=e.sent[0],i=n.ticket.data,e.next=6,v(n.state.tokenMint);case 6:return c=e.sent[0],e.next=9,Object(b.e)(n.state.tokenMint,t.publicKey);case 9:if(o=e.sent[0],null===i||void 0===i||!i.amount.gt(n.state.currentMedian)){e.next=20;break}return console.log("Adjusting down...",null===i||void 0===i?void 0:i.amount.toNumber(),n.state.currentMedian.toNumber()),e.next=14,m(n.program,n.state.currentMedian.toNumber(),t,n,r);case 14:return d=e.sent,p=d.remainingAccounts,h=d.instructions,f=d.signers,e.next=20,n.program.rpc.adjustTicket(n.state.currentMedian,{accounts:{fairLaunchTicket:r,fairLaunch:n.id,fairLaunchLotteryBitmap:c,treasury:n.state.treasury,systemProgram:u.e.SystemProgram.programId,clock:u.e.SYSVAR_CLOCK_PUBKEY},__private:{logAccounts:!0},instructions:h.length>0?h:void 0,remainingAccounts:[{pubkey:t.publicKey,isSigner:!0,isWritable:!0}].concat(Object(a.a)(p)),signers:f});case 20:return e.next=22,n.program.provider.connection.getAccountInfo(o);case 22:return j=e.sent,x=j?[]:[Object(b.c)(o,t.publicKey,t.publicKey,n.state.tokenMint)],e.next=26,n.program.rpc.punchTicket({accounts:{fairLaunchTicket:r,fairLaunch:n.id,fairLaunchLotteryBitmap:c,payer:t.publicKey,buyerTokenAccount:o,tokenMint:n.state.tokenMint,tokenProgram:l.b},instructions:x.length>0?x:void 0});case 26:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),g=function(){var t=Object(c.a)(s.a.mark((function t(n,r){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.e.PublicKey.findProgramAddress([e.from("fair_launch"),n.toBuffer(),r.toBuffer()],p);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),v=function(){var t=Object(c.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.e.PublicKey.findProgramAddress([e.from("fair_launch"),n.toBuffer(),e.from("lottery")],p);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),m=function(){var e=Object(c.a)(s.a.mark((function e(t,n,r,a,c){var o,p,h,f,g,v,m,j,x,y,k;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return",{remainingAccounts:[],instructions:[],signers:[],amountLamports:0});case 2:if(o=a.ticket,p=[],h=[],f=[],g=0,a.state.treasuryMint){e.next=11;break}g=o||0!==n?Math.ceil(n*d.LAMPORTS_PER_SOL):a.state.data.priceRangeStart.toNumber(),e.next=23;break;case 11:return v=u.e.Keypair.generate(),f.push(v),h.push(l.c.createApproveInstruction(l.b,a.state.treasuryMint,v.publicKey,r.publicKey,[],amountNumber+a.state.data.fees.toNumber())),p.push({pubkey:a.state.treasuryMint,isWritable:!0,isSigner:!1}),e.t0=p,e.next=18,Object(b.e)(a.state.treasuryMint,r.publicKey);case 18:e.t1=e.sent[0],e.t2={pubkey:e.t1,isWritable:!0,isSigner:!1},e.t0.push.call(e.t0,e.t2),p.push({pubkey:v.publicKey,isWritable:!1,isSigner:!0}),p.push({pubkey:l.b,isWritable:!1,isSigner:!1});case 23:if(!o.data){e.next=39;break}return e.next=26,Object(b.f)(a.state.tokenMint,null===(m=o.data)||void 0===m?void 0:m.seq);case 26:return j=e.sent,x=Object(i.a)(j,2),y=x[0],k=x[1],e.next=32,t.provider.connection.getAccountInfo(y);case 32:if(e.sent){e.next=39;break}return e.t3=h,e.next=37,t.instruction.createTicketSeq(k,{accounts:{fairLaunchTicketSeqLookup:y,fairLaunch:a.id,fairLaunchTicket:c,payer:r.publicKey,systemProgram:u.e.SystemProgram.programId,rent:u.e.SYSVAR_RENT_PUBKEY},signers:[]});case 37:e.t4=e.sent,e.t3.push.call(e.t3,e.t4);case 39:return e.abrupt("return",{remainingAccounts:p,instructions:h,signers:f,amountLamports:g});case 40:case"end":return e.stop()}}),e)})));return function(t,n,r,a,i){return e.apply(this,arguments)}}(),j=function(){var e=Object(c.a)(s.a.mark((function e(t,n){var r,a,i,c,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Object(b.e)(n.state.tokenMint,t.publicKey);case 4:if(r=e.sent[0],a=u.e.Keypair.generate(),i=[a],c=[l.c.createApproveInstruction(l.b,r,a.publicKey,t.publicKey,[],1)],o=[],!n.state.treasuryMint){e.next=17;break}return o.push({pubkey:n.state.treasuryMint,isWritable:!0,isSigner:!1}),e.t0=o,e.next=14,Object(b.e)(n.state.treasuryMint,t.publicKey);case 14:e.t1=e.sent[0],e.t2={pubkey:e.t1,isWritable:!0,isSigner:!1},e.t0.push.call(e.t0,e.t2);case 17:return console.log("tfr",n.state.treasury.toBase58(),t.publicKey.toBase58(),r.toBase58()),e.next=20,n.program.rpc.receiveRefund({accounts:{fairLaunch:n.id,treasury:n.state.treasury,buyer:t.publicKey,buyerTokenAccount:r,transferAuthority:a.publicKey,tokenMint:n.state.tokenMint,tokenProgram:l.b,systemProgram:u.e.SystemProgram.programId,clock:u.e.SYSVAR_CLOCK_PUBKEY},__private:{logAccounts:!0},remainingAccounts:o,instructions:c,signers:i});case 20:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),x=function(){var e=Object(c.a)(s.a.mark((function e(t,n,r){var c,o,l,d,b,p,h,f,j,x,y;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:return c=r.ticket.data,e.next=5,g(r.state.tokenMint,n.publicKey);case 5:return o=e.sent,l=Object(i.a)(o,2),d=l[0],b=l[1],e.next=11,m(r.program,t,n,r,d);case 11:if(p=e.sent,h=p.remainingAccounts,f=p.instructions,j=p.signers,x=p.amountLamports,!c){e.next=24;break}return e.next=19,v(r.state.tokenMint);case 19:return y=e.sent[0],console.log("Anchor wallet",n.publicKey.toBase58(),x),e.next=23,r.program.rpc.adjustTicket(new u.a(x),{accounts:{fairLaunchTicket:d,fairLaunch:r.id,fairLaunchLotteryBitmap:y,treasury:r.state.treasury,systemProgram:u.e.SystemProgram.programId,clock:u.e.SYSVAR_CLOCK_PUBKEY},__private:{logAccounts:!0},remainingAccounts:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0}].concat(Object(a.a)(h)),signers:j,instructions:f.length>0?f:void 0});case 23:return e.abrupt("return");case 24:return e.prev=24,console.log("Amount",x),e.next=28,r.program.rpc.purchaseTicket(b,new u.a(x),{accounts:{fairLaunchTicket:d,fairLaunch:r.id,treasury:r.state.treasury,buyer:n.publicKey,payer:n.publicKey,systemProgram:u.e.SystemProgram.programId,rent:u.e.SYSVAR_RENT_PUBKEY,clock:u.e.SYSVAR_CLOCK_PUBKEY},remainingAccounts:h,signers:j,instructions:f.length>0?f:void 0});case 28:e.next=34;break;case 30:throw e.prev=30,e.t0=e.catch(24),console.log(e.t0),e.t0;case 34:case"end":return e.stop()}}),e,null,[[24,30]])})));return function(t,n,r){return e.apply(this,arguments)}}()}).call(this,n(16).Buffer)}},[[287,1,2]]]);
//# sourceMappingURL=main.89a38612.chunk.js.map